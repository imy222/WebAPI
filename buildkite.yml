--- # document
steps:
  - label: 'do not panic :cherry_blossom::whale:'
    command: 'echo hello, engineer'
    agents: # AWS EC2 instance
      queue: fma-dev
  - label: ':test_tube: run unit tests'
    command: ./scripts/run-unit-tests.sh ${BUILDKITE_COMMIT:0:7}
    agents:
      queue: fma-dev

  - wait
  
  - label: ":sonarqube: SonarQube scan"
    command: ./.sonarqube/scan.sh
    agents:
      queue: fma-dev
      
  - wait
    
  - label: ":cloudsmith: push to Cloudsmith"
    command: ./scripts/publish.sh ${BUILDKITE_COMMIT:0:7}
    agents:
      queue: fma-dev
      